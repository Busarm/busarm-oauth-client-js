<html>

<head>
    <script src="../dist/busarm-oauth.js"></script>
</head>

<body>
    <strong>Access Token:</strong><br><span id="token"></span>
</body>

<script>
    if (typeof BusarmOAuth !== "undefined") {
        // Init
        let oauth = new BusarmOAuth.Oauth({
            clientId: "oauth_client_test_11226677",
            clientSecret: "sdfg89sdfgs6dfgiodjg45ggmlkm4lk5l45d4",
            authorizeUrl: "http://localhost:8000/authorize/request",
            tokenUrl: "http://localhost:8000/token/request"
        });

        // Get token
        oauth
            .authorizeAccess({
                grant_type: BusarmOAuth.OauthGrantType.Client_Credentials,
                callback: (token) => {
                    let el = document.getElementById('token');
                    if(el) el.innerHTML = token;
                    else console.log(token)
                },
            })
            .catch((error) => {
                console.log(error);
            });
    }
</script>
</html>